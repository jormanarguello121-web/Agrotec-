<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AgroTec - Informaci√≥n Agr√≠cola</title>
    <link rel="stylesheet" href="../styles.css">
    <link rel="stylesheet" href="agricultor.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>üå± AgroTec</h1>
            <p>Informaci√≥n y Gu√≠as Agr√≠colas</p>
        </header>

        <nav class="navbar">
            <a href="dashboard.html" class="nav-link">Inicio</a>
            <a href="productos.html" class="nav-link">Mis Productos</a>
            <a href="informacion.html" class="nav-link active">Informaci√≥n</a>
            <a href="/" class="nav-link">Salir</a>
        </nav>

        <main>
            <!-- Header informativo -->
            <section class="info-header">
                <div class="header-content">
                    <h2>Centro de Informaci√≥n Agr√≠cola</h2>
                    <p>Encuentra gu√≠as, tips y recursos para mejorar tu producci√≥n</p>
                </div>
            </section>

            <!-- B√∫squeda -->
            <section class="search-section">
                <div class="search-box">
                    <input type="text" id="buscarInfo" placeholder="Buscar en gu√≠as agr√≠colas...">
                    <button class="btn btn-primary" onclick="buscarInformacion()">üîç Buscar</button>
                </div>
            </section>

            <!-- Categor√≠as -->
            <section class="categories-section">
                <h3>Categor√≠as</h3>
                <div class="categories-grid">
                    <div class="category-card" data-categoria="cultivos">
                        <div class="category-icon">üåΩ</div>
                        <h4>T√©cnicas de Cultivo</h4>
                        <p>M√©todos y mejores pr√°cticas</p>
                    </div>
                    
                    <div class="category-card" data-categoria="riego">
                        <div class="category-icon">üíß</div>
                        <h4>Sistemas de Riego</h4>
                        <p>Optimizaci√≥n del agua</p>
                    </div>
                    
                    <div class="category-card" data-categoria="fertilizacion">
                        <div class="category-icon">üß™</div>
                        <h4>Fertilizaci√≥n</h4>
                        <p>Nutrici√≥n de cultivos</p>
                    </div>
                    
                    <div class="category-card" data-categoria="plagas">
                        <div class="category-icon">üêõ</div>
                        <h4>Control de Plagas</h4>
                        <p>Manejo integrado</p>
                    </div>
                    
                    <div class="category-card" data-categoria="clima">
                        <div class="category-icon">üå§Ô∏è</div>
                        <h4>Manejo Clim√°tico</h4>
                        <p>Adaptaci√≥n al clima</p>
                    </div>
                    
                    <div class="category-card" data-categoria="mercado">
                        <div class="category-icon">üìà</div>
                        <h4>Mercado y Precios</h4>
                        <p>Informaci√≥n comercial</p>
                    </div>
                </div>
            </section>

            <!-- Gu√≠as destacadas -->
            <section class="featured-guides">
                <h3>Gu√≠as Destacadas</h3>
                <div class="guides-grid">
                    <div class="guide-card">
                        <div class="guide-image">
                            <span class="guide-emoji">üçÖ</span>
                        </div>
                        <div class="guide-content">
                            <h4>Cultivo de Tomate Org√°nico</h4>
                            <p class="guide-description">
                                Gu√≠a completa para el cultivo sostenible de tomates sin pesticidas qu√≠micos.
                            </p>
                            <div class="guide-meta">
                                <span class="guide-duration">‚è±Ô∏è 15 min lectura</span>
                                <span class="guide-level">üìä Nivel: B√°sico</span>
                            </div>
                            <button class="btn btn-small" onclick="abrirGuia('tomate')">Leer Gu√≠a</button>
                        </div>
                    </div>

                    <div class="guide-card">
                        <div class="guide-image">
                            <span class="guide-emoji">ü•ë</span>
                        </div>
                        <div class="guide-content">
                            <h4>Producci√≥n de Aguacate Hass</h4>
                            <p class="guide-description">
                                T√©cnicas especializadas para el cultivo de aguacate de exportaci√≥n.
                            </p>
                            <div class="guide-meta">
                                <span class="guide-duration">‚è±Ô∏è 25 min lectura</span>
                                <span class="guide-level">üìä Nivel: Avanzado</span>
                            </div>
                            <button class="btn btn-small" onclick="abrirGuia('aguacate')">Leer Gu√≠a</button>
                        </div>
                    </div>

                    <div class="guide-card">
                        <div class="guide-image">
                            <span class="guide-emoji">üíß</span>
                        </div>
                        <div class="guide-content">
                            <h4>Riego por Goteo Eficiente</h4>
                            <p class="guide-description">
                                Implementaci√≥n y optimizaci√≥n de sistemas de riego por goteo.
                            </p>
                            <div class="guide-meta">
                                <span class="guide-duration">‚è±Ô∏è 20 min lectura</span>
                                <span class="guide-level">üìä Nivel: Intermedio</span>
                            </div>
                            <button class="btn btn-small" onclick="abrirGuia('riego')">Leer Gu√≠a</button>
                        </div>
                    </div>

                    <div class="guide-card">
                        <div class="guide-image">
                            <span class="guide-emoji">üêù</span>
                        </div>
                        <div class="guide-content">
                            <h4>Control Biol√≥gico de Plagas</h4>
                            <p class="guide-description">
                                Uso de insectos ben√©ficos para el control natural de plagas.
                            </p>
                            <div class="guide-meta">
                                <span class="guide-duration">‚è±Ô∏è 18 min lectura</span>
                                <span class="guide-level">üìä Nivel: Intermedio</span>
                            </div>
                            <button class="btn btn-small" onclick="abrirGuia('plagas')">Leer Gu√≠a</button>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Calendario de siembra -->
            <section class="calendar-section">
                <h3>Calendario de Siembra</h3>
                <div class="calendar-container">
                    <div class="month-grid">
                        <div class="month-card">
                            <h4>Enero</h4>
                            <ul class="crop-list">
                                <li>üçÖ Tomate</li>
                                <li>ü•ï Zanahoria</li>
                                <li>ü•¨ Lechuga</li>
                            </ul>
                        </div>
                        <div class="month-card">
                            <h4>Febrero</h4>
                            <ul class="crop-list">
                                <li>ü•í Pepino</li>
                                <li>üåΩ Ma√≠z</li>
                                <li>ü´ë Pimiento</li>
                            </ul>
                        </div>
                        <div class="month-card">
                            <h4>Marzo</h4>
                            <ul class="crop-list">
                                <li>ü•î Papa</li>
                                <li>üßÖ Cebolla</li>
                                <li>üçÜ Berenjena</li>
                            </ul>
                        </div>
                        <div class="month-card">
                            <h4>Abril</h4>
                            <ul class="crop-list">
                                <li>ü•¨ Repollo</li>
                                <li>ü•¶ Br√≥coli</li>
                                <li>üéÉ Calabaza</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Consejos r√°pidos -->
            <section class="tips-section">
                <h3>Consejos del D√≠a</h3>
                <div class="tips-grid">
                    <div class="tip-card">
                        <div class="tip-icon">üí°</div>
                        <p>Riega temprano en la ma√±ana para reducir evaporaci√≥n</p>
                    </div>
                    <div class="tip-card">
                        <div class="tip-icon">üí°</div>
                        <p>Rota cultivos para evitar agotamiento del suelo</p>
                    </div>
                    <div class="tip-card">
                        <div class="tip-icon">üí°</div>
                        <p>Usa compost natural para mejorar la tierra</p>
                    </div>
                    <div class="tip-card">
                        <div class="tip-icon">üí°</div>
                        <p>Monitorea plagas semanalmente</p>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <!-- Modal para ver gu√≠as -->
    <div id="modalGuia" class="modal" style="display: none;">
        <div class="modal-content large-modal">
            <span class="close" onclick="cerrarModalGuia()">&times;</span>
            <div id="contenidoGuia">
                <!-- El contenido de la gu√≠a se cargar√° aqu√≠ -->
            </div>
        </div>
    </div>

    <script src="../js/auth.js"></script>
    <script>
        // Verificar autenticaci√≥n
        document.addEventListener('DOMContentLoaded', function() {
            const usuario = JSON.parse(localStorage.getItem('usuario'));
            if (!usuario || usuario.rol !== 'agricultor') {
                window.location.href = '/login.html';
                return;
            }

            // Configurar eventos de categor√≠as
            document.querySelectorAll('.category-card').forEach(card => {
                card.addEventListener('click', function() {
                    const categoria = this.getAttribute('data-categoria');
                    filtrarPorCategoria(categoria);
                });
            });
        });

        function buscarInformacion() {
            const termino = document.getElementById('buscarInfo').value.toLowerCase();
            if (termino) {
                alert(`Buscando: "${termino}" - Esta funcionalidad se expandir√° pronto`);
                // Aqu√≠ se implementar√° la b√∫squeda real
            }
        }

        function filtrarPorCategoria(categoria) {
            alert(`Mostrando informaci√≥n de: ${categoria}`);
            // Aqu√≠ se filtrar√° el contenido por categor√≠a
        }

        function abrirGuia(tipoGuia) {
            const guias = {
                tomate: {
                    titulo: "üçÖ Cultivo de Tomate Org√°nico",
                    contenido: `
                        <h2>Cultivo de Tomate Org√°nico</h2>
                        <h3>Introducci√≥n</h3>
                        <p>El tomate es uno de los cultivos m√°s populares y vers√°tiles. Su cultivo org√°nico garantiza productos m√°s saludables y sostenibles.</p>
                        
                        <h3>Preparaci√≥n del Suelo</h3>
                        <ul>
                            <li>pH ideal: 6.0 - 6.8</li>
                            <li>Labrar a 30 cm de profundidad</li>
                            <li>Incorporar compost org√°nico</li>
                        </ul>
                        
                        <h3>Siembra</h3>
                        <p>√âpoca: Inicio de temporada de lluvias<br>
                        Distancia: 50 cm entre plantas<br>
                        Profundidad: 1-2 cm</p>
                        
                        <h3>Cuidados</h3>
                        <ul>
                            <li>Riego constante pero no excesivo</li>
                            <li>Tutorado para mejor desarrollo</li>
                            <li>Poda de hijuelos</li>
                        </ul>
                    `
                },
                aguacate: {
                    titulo: "ü•ë Producci√≥n de Aguacate Hass",
                    contenido: `
                        <h2>Producci√≥n de Aguacate Hass</h2>
                        <p>Gu√≠a especializada para cultivo comercial de aguacate...</p>
                        <p>Contenido detallado de la gu√≠a...</p>
                    `
                },
                riego: {
                    titulo: "üíß Riego por Goteo Eficiente", 
                    contenido: `
                        <h2>Riego por Goteo Eficiente</h2>
                        <p>T√©cnicas avanzadas de riego...</p>
                    `
                },
                plagas: {
                    titulo: "üêù Control Biol√≥gico de Plagas",
                    contenido: `
                        <h2>Control Biol√≥gico de Plagas</h2>
                        <p>M√©todos naturales para el control de plagas...</p>
                    `
                }
            };

            const guia = guias[tipoGuia];
            if (guia) {
                document.getElementById('contenidoGuia').innerHTML = `
                    <h2>${guia.titulo}</h2>
                    <div class="guide-content-modal">
                        ${guia.contenido}
                    </div>
                    <div class="modal-actions">
                        <button class="btn btn-primary" onclick="cerrarModalGuia()">Cerrar</button>
                    </div>
                `;
                document.getElementById('modalGuia').style.display = 'block';
            }
        }

        function cerrarModalGuia() {
            document.getElementById('modalGuia').style.display = 'none';
        }

        // Cerrar modal al hacer clic fuera
        window.onclick = function(event) {
            const modal = document.getElementById('modalGuia');
            if (event.target === modal) {
                cerrarModalGuia();
            }
        }
    </script>
</body>
</html>
